#%RAML 1.0
title: Edge API - Real Time Availability Check
baseUri: https://github.com/folio-org/edge-rtac
version: v1

documentation:
  - title: Edge API - Real Time Availability Check
    content: Edge API to interface with FOLIO for 3rd party discovery services to determine holdings availability

schemas:
  holdings: !include holdings.xsd
  batchHoldings: !include batch-holdings.xsd
  errors: !include raml-util/schemas/error.schema

/rtac:
  displayName: RTAC
  get:
    description: Batch RTAC for the specified ids
    responses:
      200:
        description: "Success"
        body:
          application/xml:
            type: batchHoldings
    queryParameters:
      mms_id:
        description: "List of the UUIDs of FOLIO instances"
        type: string
        pattern: "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}[, ]*)+$"
      fullPeriodicals:
        description: "Flag for including items data"
        type: boolean
      apikey:
        description: "API Key"
        type: string
/prod/rtac/folioRTAC:
  displayName: RTAC
  get:
    description: RTAC for the specified holding id
    responses:
      200:
        description: "Success"
        body:
          application/xml:
            type: holdings
    queryParameters:
      mms_id:
        description: "The UUID of a FOLIO instance"
        type: string
        pattern: "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$"
      apikey:
        description: "API Key"
        type: string
/admin/health:
  displayName: Health Check
  get:
    description: Health Check
    responses:
      200:
        description: "Success"
        body:
          text/plain:
